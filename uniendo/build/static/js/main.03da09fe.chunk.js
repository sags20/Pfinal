(this.webpackJsonpregister_client=this.webpackJsonpregister_client||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),l=n.n(r),s=(n(14),n(1)),i=n(2),o=n(4),u=n(3),m=n(5),h=n(8),d=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value,c=Object(h.a)({},t,a);"carnet"===t&&(n.carnet_regex.test(a)?c.isDisable=!1:c.isDisable=!0),n.setState(c)},n.options=["Lunes de 09:00 a 11:00","Martes de 13:30 a 15:30","Mi\xe9rcoles de 09:00 a 11:00","Jueves de 13:30 a 15:30","Viernes de 09:00 a 11:00","Viernes de 15:30 a 17:30"],n.carnet_regex=new RegExp("^[0-9]{8}$"),n.state={carnet:"",schedule:n.options[0],isLate:!0,isDisable:!0},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"jumbotron"},c.a.createElement("h1",null,"Registro de laboratorio."),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"Ingrese el carnet: "),c.a.createElement("br",null),c.a.createElement("input",{className:"form-control",type:"text",name:"carnet",value:this.state.carnet,onChange:this.handleChange})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Seleccione el horario:"),c.a.createElement("select",{name:"schedule",className:"form-control custom-select",value:this.state.schedule,onChange:this.handleChange},this.options.map((function(e){return c.a.createElement("option",null,e)})))),c.a.createElement("div",{style:{marginTop:"1em",marginBottom:"1em"}},c.a.createElement("input",{name:"isLate",type:"checkbox",onChange:this.handleChange,checked:this.state.isLate}),c.a.createElement("label",{style:{marginLeft:"1em"},htmlFor:"isLate"},"Lleg\xf3 tarde?")),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{type:"button",className:"btn btn-info",id:"submit_btn",onClick:function(){e.props.onSubmit({carnet:e.state.carnet,schedule:e.state.schedule,isLate:e.state.isLate})},disabled:this.state.isDisable},"Ingresar")))}}]),t}(c.a.Component),p=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.student;return c.a.createElement("tr",{className:"table-active"},c.a.createElement("th",{scope:"row"},t.carnet),c.a.createElement("td",null,t.schedule),c.a.createElement("td",null,new Date(t.datetime).toLocaleString()),c.a.createElement("td",null,b(t.isLate)),c.a.createElement("td",null,c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.props.onDelete()}},"Drop")))}}]),t}(c.a.Component),b=function(e){return e?"Tard\xedsimo":"A tiempo"},f=p,E=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.list.map((function(t){return c.a.createElement(f,{key:t._id,student:t,onDelete:function(){e.props.onDelete(t)}})}));return c.a.createElement("div",null,c.a.createElement("table",{className:"table table-hover"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"table-primary"},c.a.createElement("th",{scope:"col"},"Carnet"),c.a.createElement("th",{scope:"col"},"Horario de laboratorio"),c.a.createElement("th",{scope:"col"},"Hora de ingreso"),c.a.createElement("th",{scope:"col"},"Tarde?"),c.a.createElement("th",{scope:"col"},"Eliminar"))),c.a.createElement("tbody",null,t)))}}]),t}(c.a.Component),g={BaseUrl:"http://".concat("localhost",":").concat("3500")},v=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={student_list:[]},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(g.BaseUrl,"/register"),{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({student_list:t||[]})})).catch((function(e){alert("Ocurri\xf3 un error en la conexi\xf3n")}))}},{key:"handleSubmit",value:function(e){var t=this,n={method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({carnet:e.carnet,schedule:e.schedule,isLate:e.isLate})};fetch("".concat(g.BaseUrl,"/register"),n).then((function(e){return e.json()})).then((function(e){var n=t.state.student_list.slice();t.setState({student_list:n.concat([e.register])})})).catch((function(e){alert("Ocurri\xf3 un error en la conexi\xf3n")}))}},{key:"handleDelete",value:function(e){var t=this,n={method:"DELETE",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({_id:e._id})};fetch("".concat(g.BaseUrl,"/register"),n).then((function(e){return e.json()})).then((function(n){var a=t.state.student_list.find((function(t){return t._id===e._id})),c=t.state.student_list.slice();c.splice(a,1),t.setState({student_list:c})})).catch((function(e){}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container",style:{marginTop:"2em",marginBottom:"2em"}},c.a.createElement(d,{onSubmit:function(t){e.handleSubmit(t)}}),c.a.createElement(E,{list:this.state.student_list,onDelete:function(t){return e.handleDelete(t)}}))}}]),t}(c.a.Component);l.a.render(c.a.createElement(v,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.03da09fe.chunk.js.map